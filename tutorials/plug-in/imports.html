<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Imports &mdash; HydraPlatform  documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="HydraPlatform  documentation" href="../../index.html" />
    <link rel="up" title="App development" href="index.html" />
    <link rel="next" title="3. Connecting to Hydra Platform" href="connecting.html" />
    <link rel="prev" title="1. Setup" href="setup.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="imports">
<h1>2. Imports<a class="headerlink" href="#imports" title="Permalink to this headline">Â¶</a></h1>
<p>First, import the necessary classes and functions.
Note the <code class="docutils literal"><span class="pre">HydraLib</span></code> imports. HydraLib provides several functions which
make connecting plugins to Hydra easier.</p>
<p>Of particular interest are <code class="docutils literal"><span class="pre">JsonConnection</span></code> which does all the hard work of
connecting to Hydra and provides functions for making server function calls, namely the <cite>call</cite> function.</p>
<p>Next are the <code class="docutils literal"><span class="pre">write_progress</span></code> and <code class="docutils literal"><span class="pre">write_output</span></code> functions. These help Hydra
Modeller keep track of what is happening within the plugin as it&#8217;s running. The
more of these you put in, the more a user will understand what is happening, which will help them if something goes wrong.
The outut of the two functions look like this, and are printed to stdout. Hydra
Modeller reads from stdout while the plugin is running and displays the output
of these two functions:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">write_progress(1,</span> <span class="pre">3)</span></code> &gt;&gt; &#8221;!!Progres 1/3&#8221;</li>
<li><code class="docutils literal"><span class="pre">write_output(&quot;Parsing&quot;)</span></code> &gt;&gt; &#8221;!!Output Parsing&#8221;</li>
</ul>
</div></blockquote>
<p>Finally there&#8217;s the <code class="docutils literal"><span class="pre">HydraPluginError</span></code>. When you want to raise an exception, this
is typically the one to raise as it specifically designed to work with these plugins.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Library for parsing command-line arguments.</span>
<span class="kn">import</span> <span class="nn">argparse</span> <span class="kn">as</span> <span class="nn">ap</span>

<span class="c">#Python utility libraries.</span>
<span class="kn">from</span> <span class="nn">HydraLib.HydraException</span> <span class="kn">import</span> <span class="n">HydraPluginError</span>
<span class="kn">from</span> <span class="nn">HydraLib.PluginLib</span> <span class="kn">import</span> <span class="n">JsonConnection</span><span class="p">,</span>\
                              <span class="n">create_xml_response</span><span class="p">,</span>\
                              <span class="n">write_progress</span><span class="p">,</span>\
                              <span class="n">write_output</span>
<span class="c">#General library for working with JSON objects</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="c">#Used for working with files.</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">HydraPlatform</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=UMWRG&repo=HydraPlatform&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Tutorials</a><ul>
  <li><a href="index.html">App development</a><ul>
      <li>Previous: <a href="setup.html" title="previous chapter">1. Setup</a></li>
      <li>Next: <a href="connecting.html" title="next chapter">3. Connecting to Hydra Platform</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/index.html">Design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting-started/index.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webservice/index.html">HydraPlatform web service</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">App development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#general-concepts">General concepts</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#developing-an-app-in-python">Developing an app in Python</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="setup.html">1. Setup</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">2. Imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting.html">3. Connecting to Hydra Platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="export.html">4. Exporting the Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="parsing_arguments.html">5. Parsing the Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="run.html">6. Running the Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="documentation.html">7. Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="templates.html">8. Working with templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="integration.html">9. Integrating the plug-in into Hydra Modeller</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../using-templates/index.html">Building HydraPlatform templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../implementation/index.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webapi/index.html">Web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devdocs/index.html">Developers documentation</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, CH2M Hill Halcrow and The University of Manchester.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../../_sources/tutorials/plug-in/imports.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/UMWRG/HydraPlatform" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>