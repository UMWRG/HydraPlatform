<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Imports &mdash; HYDRA  documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="HYDRA  documentation" href="../../index.html" />
    <link rel="up" title="Developing an app in Python" href="simple_plugin_in_python.html" />
    <link rel="next" title="3. Connecting to Hydra Platform" href="connecting.html" />
    <link rel="prev" title="1. Setup" href="setup.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="connecting.html" title="3. Connecting to Hydra Platform"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="1. Setup"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">HYDRA  documentation</a> &raquo;</li>
          <li><a href="simple_plugin_in_python.html" accesskey="U">Developing an app in Python</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="setup.html"
                        title="previous chapter">1. Setup</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="connecting.html"
                        title="next chapter">3. Connecting to Hydra Platform</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/tutorials/plug-in/imports.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="imports">
<h1>2. Imports<a class="headerlink" href="#imports" title="Permalink to this headline">Â¶</a></h1>
<p>First, import the necessary classes and functions.
Note the <tt class="docutils literal"><span class="pre">HydraLib</span></tt> imports. HydraLib provides several functions which
make connecting plugins to Hydra easier.</p>
<p>Of particular interest are <tt class="docutils literal"><span class="pre">JsonConnection</span></tt> which does all the hard work of
connecting to Hydra and provides functions for making server function calls, namely the <cite>call</cite> function.</p>
<p>Next are the <tt class="docutils literal"><span class="pre">write_progress</span></tt> and <tt class="docutils literal"><span class="pre">write_output</span></tt> functions. These help Hydra
Modeller keep track of what is happening within the plugin as it&#8217;s running. The
more of these you put in, the more a user will understand what is happening, which will help them if something goes wrong.
The outut of the two functions look like this, and are printed to stdout. Hydra
Modeller reads from stdout while the plugin is running and displays the output
of these two functions:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">write_progress(1,</span> <span class="pre">3)</span></tt> &gt;&gt; &#8221;!!Progres 1/3&#8221;</li>
<li><tt class="docutils literal"><span class="pre">write_output(&quot;Parsing&quot;)</span></tt> &gt;&gt; &#8221;!!Output Parsing&#8221;</li>
</ul>
</div></blockquote>
<p>Finally there&#8217;s the <tt class="docutils literal"><span class="pre">HydraPluginError</span></tt>. When you want to raise an exception, this
is typically the one to raise as it specifically designed to work with these plugins.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Library for parsing command-line arguments.</span>
<span class="kn">import</span> <span class="nn">argparse</span> <span class="kn">as</span> <span class="nn">ap</span>

<span class="c">#Python utility libraries.</span>
<span class="kn">from</span> <span class="nn">HydraLib.HydraException</span> <span class="kn">import</span> <span class="n">HydraPluginError</span>
<span class="kn">from</span> <span class="nn">HydraLib.PluginLib</span> <span class="kn">import</span> <span class="n">JsonConnection</span><span class="p">,</span>\
                              <span class="n">create_xml_response</span><span class="p">,</span>\
                              <span class="n">write_progress</span><span class="p">,</span>\
                              <span class="n">write_output</span>
<span class="c">#General library for working with JSON objects</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="c">#Used for working with files.</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="connecting.html" title="3. Connecting to Hydra Platform"
             >next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="1. Setup"
             >previous</a> |</li>
        <li><a href="../../index.html">HYDRA  documentation</a> &raquo;</li>
          <li><a href="simple_plugin_in_python.html" >Developing an app in Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Halcrow and University College London.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>